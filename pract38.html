<!DOCTYPE html>
<html>

<head>
    <title>API de Historial Web</title>
</head>

<body>
    <h1>API de Historial Web</h1>
    <p>Presiona los botones para agregar o reemplazar un estado en el historial de navegación, retroceder o avanzar en el historial, o para obtener la longitud del historial y las URLs visitadas.</p>
    <p>Abre la consola del navegador para ver los mensajes de registro.</p>
    <p>Nota: La API de Historial Web no está disponible en todos los navegadores.</p>

    <br><br>
    <button id="pushState">Agregar Estado</button>
    <button id="replaceState">Reemplazar Estado</button>
    <button id="goBack">Retroceder</button>
    <button id="goForward">Avanzar</button>
    <button onclick="myFunction1()">Go Back</button>
    <button onclick="myFunction2()">Go Back 2 Pages</button>



    <script>
        
        document.getElementById('pushState').addEventListener('click', function () {
            history.pushState({ page: 1 }, "título 1", "?page=1");
        });

        document.getElementById('replaceState').addEventListener('click', function () {
            history.replaceState({ page: 2 }, "título 2", "?page=2");
        });

        document.getElementById('goBack').addEventListener('click', function () {
            history.back();
        });

        document.getElementById('goForward').addEventListener('click', function () {
            history.forward();
        });

        window.addEventListener("popstate", function (event) {
            if (event.state) {
                alert("Estado de la página: " + event.state.page);
            }
        });

        if (window.history && window.history.length) {
            // Obtener el historial de navegación
            var historyArray = window.history;

            // Imprimir la longitud del historial
            console.log("Longitud del historial:", historyArray.length);

            // Iterar sobre el historial e imprimir las URLs visitadas
            for (var i = 0; i < historyArray.length; i++) {
                console.log("URL visitada:", historyArray[i]);
            }
        } else {
            console.log("La Web History API no está disponible en este navegador.");
        }

        function myFunction1() {
            window.history.back();
        }

        function myFunction2() {
            window.history.go(-2);
        }

    </script>
</body>

</html>